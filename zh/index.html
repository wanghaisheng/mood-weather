
<html><head><base href="/zh" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta Tags -->
    <meta name="description" content="使用MoodWeather追踪您的情绪健康 - 一款创新的情绪追踪应用，通过天气隐喻来帮助您更好地了解自己的情绪变化。">
    <meta name="keywords" content="情绪追踪,情感健康,心理健康应用,天气隐喻,情商,自我认知,情绪日记,数字情绪追踪,心理健康工具,情感健康">
    <meta name="author" content="MoodWeather团队">
    <meta http-equiv="Content-Language" content="zh">

    <!-- Canonical Link -->
    <link rel="canonical" href="https://moodweather.heytcm.com" />

    <!-- Open Graph for Social Media -->
    <meta property="og:title" content="MoodWeather - 追踪您的内心气候">
    <meta property="og:description" content="通过直观的天气隐喻和AI智能分析，体验革命性的情绪理解方式。">
    <meta property="og:image" content="https://moodweather.heytcm.com/social-preview.jpg">
    <meta property="og:url" content="https://moodweather.heytcm.com">
    <meta property="og:type" content="website">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="MoodWeather - 追踪您的内心气候">
    <meta name="twitter:description" content="通过直观的天气隐喻和AI智能分析，体验革命性的情绪理解方式。">
    <meta name="twitter:image" content="https://moodweather.heytcm.com/social-preview.jpg">
    <meta name="twitter:creator" content="@moodweather">

    <!-- Favicon -->
    <link rel="icon" href="https://moodweather.heytcm.com//images/favicon.ico" type="image/x-icon">

    <!-- PWA -->
    <link rel="manifest" href="https://moodweather.heytcm.com/manifest.json">
    <meta name="theme-color" content="#2D3250">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-XXXXX-Y"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'UA-XXXXX-Y');
    </script>

    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=document.createElement('script');t.async=1;t.src=
            "https://www.clarity.ms/tag/"+i;y=document.getElementsByTagName('script')[0];
            y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "XXXXXX");
    </script>

    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <title>MoodWeather - 暴跳如雷 阴晴不定</title>

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "MoodWeather",
      "applicationCategory": "HealthApplication",
      "description": "一款创新的情绪追踪应用，通过天气隐喻帮助用户了解和追踪情绪健康。",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "1250"
      }
    }
    </script>

    <style>
        :root {
            --primary: #2D3250;
            --secondary: #424769;
            --accent: #7077A1;
            --light: #F6B17A;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--primary);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: var(--secondary);
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--light);
        }

        .locale-picker {
            padding: 8px 12px;
            border-radius: 20px;
            border: 2px solid var(--light);
            background: var(--secondary);
            color: white;
            font-size: 14px;
            cursor: pointer;
            outline: none;
            transition: all 0.3s ease;
        }

        .locale-picker:hover {
            background: var(--primary);
            border-color: var(--accent);
        }

        .locale-picker option {
            background: var(--primary);
            color: white;
            padding: 8px;
        }

        .hero-section {
            text-align: center;
            padding: 60px 20px;
            margin-bottom: 40px;
        }

        .hero-section h1 {
            font-size: 3.5rem;
            color: var(--light);
            margin-bottom: 20px;
        }

        .hero-section p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 30px;
            line-height: 1.6;
            color: rgba(255,255,255,0.9);
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }

        .cta-button {
            display: inline-block;
            padding: 12px 30px;
            background: var(--light);
            color: var(--primary);
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .cta-button.secondary {
            background: transparent;
            border: 2px solid var(--light);
            color: var(--light);
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(246,177,122,0.3);
        }

        @media (max-width: 768px) {
            .hero-section h1 {
                font-size: 2.5rem;
            }
        }

        .section-container {
            display: grid;
            gap: 40px;
            padding: 20px;
        }

        .section-wrapper {
            background: var(--secondary);
            border-radius: 15px;
            overflow: hidden;
            transition: transform 0.3s;
        }

        .section-wrapper:hover {
            transform: translateY(-5px);
        }

        .section-header {
            padding: 30px;
            background: rgba(0,0,0,0.1);
        }

        .section-content {
            padding: 30px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            padding: 40px 20px;
        }

        .feature-card {
            background: var(--secondary);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s;
            position: relative;
            overflow: hidden;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            margin-bottom: 15px;
        }

        .feature-card h3 {
            color: var(--light);
            margin-bottom: 10px;
        }

        .feature-card p {
            color: rgba(255,255,255,0.8);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .onboarding-section,
        .features-section,
        .resources-section,
        .challenges-section,
        .research-section,
        .future-development-section,
        .case-studies-section,
        .pricing-section,
        .impact-section,
        .integration-section,
        .ai-analysis-section,
        .metaphor-poll-section,
        .mood-story-section {
            margin: 0;
            padding: 0;
            background: transparent;
        }

        .section-title {
            position: relative;
            padding-bottom: 15px;
            margin-bottom: 30px;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: var(--light);
        }

        .onboarding-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .step {
            text-align: center;
            padding: 30px;
            background: var(--primary);
            border-radius: 15px;
            position: relative;
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: var(--light);
            color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 0 auto 20px;
        }

        .weather-container {
            position: relative;
            height: 60vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .mood-input {
            position: relative;
            z-index: 2;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
        }

        textarea {
            width: 100%;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            border: none;
            background: rgba(255,255,255,0.9);
            font-size: 16px;
            resize: none;
        }

        .weather-icons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 20px 0;
        }

        .weather-icon {
            cursor: pointer;
            transition: transform 0.3s;
            width: 50px;
            height: 50px;
        }

        .weather-icon:hover {
            transform: scale(1.2);
        }

        .mood-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .floating-cloud {
            animation: float 4s ease-in-out infinite;
        }

        .faq-section {
            padding: 60px 20px;
            margin: 40px 0;
            border-radius: 15px;
        }

        .faq-grid {
            display: grid;
            gap: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            background: var(--primary);
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .faq-item:hover {
            transform: translateX(10px);
        }

        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            color: var(--light);
        }

        .faq-answer {
            margin-top: 15px;
            display: none;
            color: rgba(255,255,255,0.9);
            line-height: 1.6;
        }

        .faq-item.active .faq-answer {
            display: block;
        }

        .testimonials-section {
            padding: 60px 20px;
            margin: 40px 0;
            border-radius: 15px;
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding: 20px;
        }

        .testimonial-card {
            background: var(--primary);
            padding: 30px;
            border-radius: 15px;
            position: relative;
        }

        .testimonial-text {
            font-style: italic;
            margin-bottom: 20px;
            color: rgba(255,255,255,0.9);
            line-height: 1.6;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .author-info h4 {
            color: var(--light);
            margin-bottom: 5px;
        }

        .author-info p {
            color: rgba(255,255,255,0.7);
            font-size: 0.9rem;
        }

        .achievements-section {
            padding: 60px 20px;
            margin: 40px 0;
            border-radius: 15px;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .achievement-card {
            background: var(--primary);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s;
        }

        .achievement-card:hover {
            transform: translateY(-5px);
        }

        .achievement-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .progress-bar {
            background: rgba(255,255,255,0.1);
            height: 10px;
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: var(--light);
            transition: width 0.3s ease;
        }

        .feature-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, transparent 30%, rgba(246, 177, 122, 0.1) 70%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .feature-card:hover::after {
            opacity: 1;
        }

        .resources-section {
            padding: 60px 20px;
            margin: 40px 0;
        }

        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .resource-card {
            background: var(--secondary);
            padding: 30px;
            border-radius: 15px;
            transition: transform 0.3s;
        }

        .resource-card:hover {
            transform: translateY(-5px);
        }

        .learn-more {
            display: inline-block;
            margin-top: 20px;
            color: var(--light);
            text-decoration: none;
            font-weight: bold;
        }

        .challenges-section {
            padding: 60px 20px;
            margin: 40px 0;
            border-radius: 15px;
        }

        .challenges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding: 20px;
        }

        .challenge-card {
            background: var(--primary);
            padding: 30px;
            border-radius: 15px;
            transition: transform 0.3s;
        }

        .challenge-card:hover {
            transform: translateY(-5px);
        }

        .challenge-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .challenge-content {
            margin-top: 15px;
        }

        .challenge-desc {
            color: rgba(255,255,255,0.9);
            margin-bottom: 20px;
            font-style: italic;
        }

        .solution {
            background: rgba(246, 177, 122, 0.1);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .solution h4 {
            color: var(--light);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .solution p {
            color: rgba(255,255,255,0.9);
            line-height: 1.6;
        }

        .research-section {
            padding: 60px 20px;
            margin: 40px 0;
            border-radius: 15px;
        }

        .research-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .research-card {
            background: var(--primary);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s;
        }

        .research-card:hover {
            transform: translateY(-5px);
        }

        .stat-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            border: 3px solid var(--light);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--light);
        }

        .research-card h3 {
            color: var(--light);
            margin-bottom: 15px;
        }

        .research-card p {
            color: rgba(255,255,255,0.9);
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .source {
            font-size: 0.8rem;
            color: rgba(255,255,255,0.6);
            font-style: italic;
        }

        .research-highlights {
            background: var(--primary);
            border-radius: 15px;
            padding: 30px;
            margin-top: 40px;
        }

        .highlight-card {
            max-width: 800px;
            margin: 0 auto;
        }

        .findings-list {
            list-style: none;
            padding: 0;
            margin-top: 20px;
        }

        .findings-list li {
            padding: 15px;
            margin-bottom: 10px;
            background: rgba(246, 177, 122, 0.1);
            border-radius: 8px;
            color: rgba(255,255,255,0.9);
            position: relative;
            padding-left: 30px;
        }

        .findings-list li:before {
            content: "→";
            position: absolute;
            left: 10px;
            color: var(--light);
        }

        .future-development-section {
            padding: 60px 20px;
            margin: 40px 0;
            border-radius: 15px;
        }

        .timeline-grid {
            display: grid;
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .timeline-item {
            background: var(--primary);
            padding: 30px;
            border-radius: 15px;
            position: relative;
            border-left: 4px solid var(--light);
        }

        .timeline-date {
            color: var(--light);
            font-weight: bold;
            margin-bottom: 15px;
        }

        .timeline-content h3 {
            color: var(--light);
            margin-bottom: 10px;
        }

        .feature-list {
            list-style: none;
            padding: 0;
            margin-top: 15px;
        }

        .feature-list li {
            padding: 8px 0;
            color: rgba(255,255,255,0.9);
            position: relative;
            padding-left: 20px;
        }

        .feature-list li:before {
            content: "•";
            color: var(--light);
            position: absolute;
            left: 0;
        }

        .case-studies-section {
            padding: 60px 20px;
            margin: 40px 0;
            border-radius: 15px;
        }

        .case-studies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            padding: 20px;
        }

        .case-study-card {
            background: var(--primary);
            padding: 30px;
            border-radius: 15px;
            transition: transform 0.3s;
        }

        .case-study-card:hover {
            transform: translateY(-5px);
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            background: rgba(246, 177, 122, 0.1);
            border-radius: 10px;
        }

        .stat-value {
            font-size: 2rem;
            color: var(--light);
            font-weight: bold;
        }

        .stat-label {
            font-size: 0.9rem;
            color: rgba(255,255,255,0.7);
            margin-top: 5px;
        }

        .case-study-text {
            margin: 20px 0;
            line-height: 1.6;
            color: rgba(255,255,255,0.9);
        }

        .key-findings {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .key-findings h4 {
            color: var(--light);
            margin-bottom: 10px;
        }

        .key-findings ul {
            list-style: none;
            padding: 0;
        }

        .key-findings li {
            padding: 8px 0;
            color: rgba(255,255,255,0.9);
            position: relative;
            padding-left: 20px;
        }

        .key-findings li:before {
            content: "→";
            color: var(--light);
            position: absolute;
            left: 0;
        }

        .pricing-section {
            padding: 60px 20px;
            margin: 40px 0;
            border-radius: 15px;
        }

        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            padding: 20px;
        }

        .pricing-card {
            background: var(--primary);
            padding: 40px 30px;
            border-radius: 15px;
            text-align: center;
            position: relative;
            transition: transform 0.3s;
        }

        .pricing-card:hover {
            transform: translateY(-5px);
        }

        .pricing-card.popular {
            border: 2px solid var(--light);
            transform: scale(1.05);
        }

        .popular-badge {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--light);
            color: var(--primary);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .price {
            font-size: 2.5rem;
            color: var(--light);
            margin: 20px 0 5px;
        }

        .period {
            color: rgba(255,255,255,0.7);
            margin-bottom: 30px;
        }

        .features {
            list-style: none;
            padding: 0;
            margin-bottom: 30px;
        }

        .features li {
            padding: 10px 0;
            color: rgba(255,255,255,0.9);
        }

        .newsletter-section {
            text-align: center;
            padding: 60px 20px;
            background: var(--secondary);
            margin: 40px 0;
            border-radius: 15px;
        }

        .newsletter-form {
            max-width: 500px;
            margin: 30px auto;
            display: flex;
            gap: 10px;
        }

        .newsletter-form input {
            flex: 1;
            padding: 12px 20px;
            border-radius: 25px;
            border: none;
            font-size: 1rem;
        }

        .footer {
            background: var(--secondary);
            padding: 60px 20px 20px;
            margin-top: 60px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-col h3, .footer-col h4 {
            color: var(--light);
            margin-bottom: 20px;
        }

        .footer-col ul {
            list-style: none;
            padding: 0;
        }

        .footer-col ul li {
            margin-bottom: 10px;
        }

        .footer-col a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-col a:hover {
            color: var(--light);
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .footer-bottom {
            max-width: 1200px;
            margin: 40px auto 0;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .legal-links {
            display: flex;
            gap: 20px;
        }

        .comparison-section {
            padding: 60px 20px;
            margin: 40px 0;
            border-radius: 15px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            padding: 20px;
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }

        .comparison-card {
            background: var(--primary);
            padding: 30px;
            border-radius: 15px;
            transition: transform 0.3s;
            position: relative;
        }

        .comparison-card:hover {
            transform: translateY(-5px);
        }

        .comparison-card h3 {
            color: var(--light);
            margin-bottom: 25px;
            text-align: center;
            font-size: 1.5rem;
        }

        .comparison-content {
            display: grid;
            gap: 20px;
        }

        .comparison-item {
            padding: 15px;
            background: rgba(246, 177, 122, 0.1);
            border-radius: 10px;
        }

        .comparison-item h4 {
            color: var(--light);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .comparison-item p {
            color: rgba(255,255,255,0.9);
            line-height: 1.6;
        }

        .bullet-journal {
            border-left: 4px solid #A5D6A7;
        }

        .moodweather {
            border-left: 4px solid var(--light);
        }

        /* Add these styles for SEO-rich content */
        .research-intro {
            font-size: 1.1rem;
            line-height: 1.8;
            color: rgba(255,255,255,0.9);
            margin-bottom: 20px;
        }

        .findings-list li {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .research-source {
            font-style: italic;
            color: var(--light);
            font-size: 0.9rem;
            margin-top: 10px;
        }

        /* Add to existing CSS */
        .ai-analysis-section {
            background: var(--secondary);
            padding: 40px;
            border-radius: 15px;
            margin-top: 40px;
        }

        .mood-patterns {
            list-style: none;
            padding: 0;
            margin: 20px 0;
        }

        .weather-calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            margin-top: 20px;
        }

        .calendar-day {
            aspect-ratio: 1;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            position: relative;
            overflow: hidden;
        }

        .calendar-day::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-size: cover;
            opacity: 0.3;
            z-index: 0;
        }

        .metaphor-poll-section {
            padding: 60px 20px;
            margin: 40px 0;
        }

        .metaphor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .metaphor-card {
            background: var(--primary);
            padding: 25px;
            border-radius: 15px;
            transition: transform 0.3s;
            cursor: pointer;
            position: relative;
        }

        .metaphor-card:hover {
            transform: translateY(-5px);
        }

        .metaphor-card.voted {
            border: 2px solid var(--light);
        }

        .metaphor-text {
            font-size: 1.1rem;
            margin-bottom: 15px;
            line-height: 1.6;
            color: rgba(255,255,255,0.9);
        }

        .vote-count {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--light);
        }

        .vote-btn {
            background: var(--accent);
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            color: white;
            cursor: pointer;
            transition: background 0.3s;
        }

        .vote-btn:hover {
            background: var(--light);
        }

        .poll-results {
            background: var(--secondary);
            padding: 30px;
            border-radius: 15px;
            margin-top: 40px;
        }

        .poll-chart {
            margin-top: 20px;
            display: grid;
            gap: 15px;
        }

        .poll-bar {
            background: var(--primary);
            padding: 15px;
            border-radius: 10px;
            position: relative;
        }

        .poll-bar-fill {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background: var(--light);
            opacity: 0.3;
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .poll-bar-text {
            position: relative;
            z-index: 1;
            display: flex;
            justify-content: space-between;
            color: rgba(255,255,255,0.9);
        }

        /* Add new styles for mood story section */
        .mood-story-section {
            background: var(--secondary);
            padding: 60px 20px;
            color: white;
        }

        .section-subtitle {
            text-align: center;
            color: var(--light);
            margin-bottom: 40px;
            font-size: 1.2rem;
        }

        .story-preview {
            max-width: 1000px;
            margin: 0 auto;
        }

        .story-cover {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 40px;
        }

        .story-cover h3 {
            font-size: 2rem;
            color: var(--light);
            margin-bottom: 20px;
        }

        .weather-timeline {
            height: 100px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
        }

        .story-chapters {
            display: grid;
            gap: 40px;
            margin-bottom: 60px;
        }

        .chapter {
            background: var(--primary);
            padding: 30px;
            border-radius: 15px;
        }

        .chapter h4 {
            color: var(--light);
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .day-entry {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            margin-top: 15px;
        }

        .weather-icon {
            font-size: 2rem;
        }

        .entry-content h5 {
            color: var(--light);
            margin-bottom: 10px;
        }

        .entry-content p {
            color: rgba(255,255,255,0.9);
            line-height: 1.6;
        }

        .story-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .feature {
            text-align: center;
            padding: 30px;
            background: var(--primary);
            border-radius: 15px;
            transition: transform 0.3s;
        }

        .feature:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }

        .feature h4 {
            color: var(--light);
            margin-bottom: 10px;
        }

        .feature p {
            color: rgba(255,255,255,0.9);
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .story-chapters {
                grid-template-columns: 1fr;
            }
            
            .day-entry {
                flex-direction: column;
                text-align: center;
            }
            
            .weather-icon {
                margin-bottom: 10px;
            }
        }

        /* Add styles for video demo section */
        .video-demo-section {
            padding: 60px 20px;
            margin: 40px 0;
            background: var(--secondary);
            border-radius: 15px;
        }

        .video-container {
            max-width: 900px;
            margin: 0 auto 40px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            position: relative;
            padding-top: 56.25%; /* 16:9 Aspect Ratio */
        }

        .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
        }

        .video-container video::-webkit-media-controls-panel {
            background: rgba(45, 50, 80, 0.8);
        }

        .demo-cta {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }

        .demo-cta h3 {
            color: var(--light);
            margin-bottom: 25px;
            font-size: 1.8rem;
        }

        .cta-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        @media (max-width: 768px) {
            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .video-container {
                margin: 0 -20px 40px;
                border-radius: 0;
            }
        }

        /* Add hover effect for video container */
        .video-container:hover {
            transform: translateY(-5px);
            transition: transform 0.3s ease;
        }

        /* New styles for the weather timeline */
        .weather-timeline {
            position: relative;
            height: 100px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            margin-top: 20px;
            overflow: hidden;
            cursor: pointer;
        }

        .timeline-marker {
            cursor: pointer;
            box-shadow: 0 0 5px rgba(255,255,255,0.3);
        }

        .timeline-marker:hover {
            box-shadow: 0 0 10px rgba(255,255,255,0.5);
        }
    </style>
</head>
<body>
    <nav>
        <div class="logo">🌤️ MoodWeather</div>
        <select id="locale-picker" class="locale-picker">
            <option value="en">English</option>
            <option value="zh">中文</option>
            <option value="es">Español</option>
            <option value="fr">Français</option>
            <option value="de">Deutsch</option>
            <option value="ja">日本語</option>
            <option value="ko">한국어</option>
        </select>
    </nav>

    <div class="container">
        <div class="hero-section">
            <h1>像追踪天气一样追踪心情</h1>
            <p>体验一种革命性的方式来理解您的情绪变化。MoodWeather运用直观的天气隐喻和AI智能分析，将您的感受转化为天气模式，让情绪追踪变得自然而有趣。</p>
            <div class="hero-buttons">
                <a href="https://moodweather.heytcm.com/signup" class="cta-button primary">开始追踪</a>
                <a href="https://moodweather.heytcm.com/demo" class="cta-button secondary">查看演示</a>
            </div>
        </div>

        <!-- New Video Demo Section -->
        <div class="section-container">
            <div class="section-wrapper video-demo-section">
                <div class="section-header">
                    <h2 class="section-title">体验MoodWeather</h2>
                    <p class="section-subtitle">观看如何轻松追踪和理解您的情绪气候</p>
                </div>
                <div class="section-content">
                    <div class="video-container">
                        <video id="demo-video" controls poster="/images/video-poster.jpg">
                            <source src="/video/demo.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <div class="demo-cta">
                        <h3>准备好开始您的情绪天气之旅了吗？</h3>
                        <div class="cta-buttons">
                            <a href="moodweather.heytcm.com/app" class="cta-button primary">立即体验</a>
                            <a href="https://moodweather.heytcm.com/signup" class="cta-button secondary">免费注册</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Video Demo Section -->

        <div class="section-container">
            <div class="section-wrapper onboarding-section">
                <div class="section-header">
                    <h2 class="section-title">几分钟即可开始</h2>
                </div>
                <div class="section-content">
                    <div class="onboarding-steps">
                        <div class="step">
                            <div class="step-number">1</div>
                            <h3>个性化体验</h3>
                            <p>通过简短评估定制您的追踪体验并设定有意义的目标</p>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <h3>追踪您的内心天气</h3>
                            <p>使用直观的天气隐喻记录您的心情，使情感表达变得自然</p>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <h3>获取可操作的见解</h3>
                            <p>收到个性化推荐，直观地可视化您的情感模式</p>
                        </div>
                        <div class="step">
                            <div class="step-number">4</div>
                            <h3>定制您的体验</h3>
                            <p>设定个人目标，定制通知，选择您喜欢的追踪方式</p>
                        </div>
                        <div class="step">
                            <div class="step-number">5</div>
                            <h3>连接您的支持网络</h3>
                            <p>可选地与医疗提供者和支持小组集成</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper features-section">
                <div class="section-header">
                    <h2 class="section-title">改变生活的功能</h2>
                </div>
                <div class="section-content">
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">🎯</div>
                            <h3>智能目标设定</h3>
                            <p>设定和追踪个人情绪目标，监控进度并获得成就奖励</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">📊</div>
                            <h3>先进的分析</h3>
                            <p>通过直观的图表可视化您的心情模式，发现情感触发因素</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🧘</div>
                            <h3>正念工具</h3>
                            <p>访问针对您当前情绪天气的引导冥想和练习</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">👥</div>
                            <h3>社区支持</h3>
                            <p>在安全的社区空间中与其他人联系，分享相似的旅程</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🧠</div>
                            <h3>基于证据的方法</h3>
                            <p>建立在已确立的心理学原则基础上，并通过在情商和心理健康追踪方面的广泛研究进行验证。我们的天气隐喻系统与领先的心理健康专家合作设计。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper resources-section">
                <div class="section-header">
                    <h2 class="section-title">学习与成长</h2>
                </div>
                <div class="section-content">
                    <div class="resources-grid">
                        <div class="resource-card">
                            <h3>理解情绪天气</h3>
                            <p>学习天气隐喻如何帮助您更好地理解和表达自己的感受</p>
                            <a href="https://moodweather.heytcm.com/learn/basics" class="learn-more">阅读更多</a>
                        </div>
                        <div class="resource-card">
                            <h3>情绪追踪指南</h3>
                            <p>发现有效的策略，以便持续进行情绪追踪和情感觉察</p>
                            <a href="https://moodweather.heytcm.com/learn/guide" class="learn-more">阅读更多</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="weather-container">
            <svg class="mood-particles" id="mood-particles"></svg>
            
            <div class="mood-input">
                <h2>您今天的内心天气如何？</h2>
                <textarea id="mood-text" rows="4" placeholder="表达您的感受..."></textarea>
                
                <div class="weather-icons">
                    <!-- Sunny -->
                    <svg class="weather-icon" viewBox="0 0 100 100" data-mood="sunny">
                        <circle cx="50" cy="50" r="20" fill="#FFD700"/>
                        <g id="rays">
                            <line x1="50" y1="20" x2="50" y2="10" stroke="#FFD700" stroke-width="4"/>
                            <line x1="50" y1="80" x2="50" y2="90" stroke="#FFD700" stroke-width="4"/>
                            <line x1="20" y1="50" x2="10" y2="50" stroke="#FFD700" stroke-width="4"/>
                            <line x1="80" y1="50" x2="90" y2="50" stroke="#FFD700" stroke-width="4"/>
                        </g>
                    </svg>

                    <!-- Cloudy -->
                    <svg class="weather-icon" viewBox="0 0 100 100" data-mood="cloudy">
                        <path d="M30,50 Q40,40 50,45 Q60,35 70,45 Q80,40 85,50 Q90,60 80,65 Q75,70 65,68 Q60,75 50,70 Q40,75 35,68 Q25,70 20,65 Q15,60 20,55 Q25,50 30,50" fill="#E0E0E0"/>
                    </svg>

                    <!-- Rainy -->
                    <svg class="weather-icon" viewBox="0 0 100 100" data-mood="rainy">
                        <path d="M30,40 Q40,30 50,35 Q60,25 70,35 Q80,30 85,40 Q90,50 80,55 Q75,60 65,58 Q60,65 50,60 Q40,65 35,58 Q25,60 20,55 Q15,50 20,45 Q25,40 30,40" fill="#708090"/>
                        <line x1="40" y1="65" x2="35" y2="80" stroke="#4682B4" stroke-width="3"/>
                        <line x1="50" y1="65" x2="45" y2="80" stroke="#4682B4" stroke-width="3"/>
                        <line x1="60" y1="65" x2="55" y2="80" stroke="#4682B4" stroke-width="3"/>
                    </svg>

                    <!-- Stormy -->
                    <svg class="weather-icon" viewBox="0 0 100 100" data-mood="stormy">
                        <path d="M30,40 Q40,30 50,35 Q60,25 70,35 Q80,30 85,40 Q90,50 80,55 Q75,60 65,58 Q60,65 50,60 Q40,65 35,58 Q25,60 20,55 Q15,50 20,45 Q25,40 30,40" fill="#4A4A4A"/>
                        <polygon points="45,60 55,60 40,75 50,75 35,90" fill="#FFD700"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper ai-analysis-section">
                <div class="section-header">
                    <h2 class="section-title">智能情绪检测</h2>
                </div>
                <div class="section-content">
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">🤖</div>
                            <h3>AI驱动分析</h3>
                            <p>我们的先进AI实时分析您的日记条目，自动检测您的情绪天气并计算您的情绪分数。</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">📖</div>
                            <h3>故事情绪日记</h3>
                            <p>将您的日常情感转化为美丽的天气主题故事。我们的AI生成个性化叙述，帮助您通过引人入胜的隐喻和可视化理解您的情感旅程。</p>
                            <ul style="text-align: left; margin-top: 10px; list-style: none;">
                                <li>• 每日天气主题条目</li>
                                <li>• AI生成的情感洞察</li>
                                <li>• 可视化情绪时间线</li>
                                <li>• 可分享的故事亮点</li>
                            </ul>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🎨</div>
                            <h3>动态壁纸</h3>
                            <p>当您的应用程序背景与您的情绪天气相匹配时，观察应用程序的背景如何变化，创造身临其境的响应体验。</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">📊</div>
                            <h3>情绪日历</h3>
                            <p>通过直观的天气基础日历查看您的情感模式，使识别趋势变得容易。</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">👥</div>
                            <h3>激励联系</h3>
                            <p>与分享相似情绪天气模式的其他人联系，从他们的旅程中找到灵感。</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">📚</div>
                            <h3>日记模板</h3>
                            <p>从各种天气主题模板中选择，以不同的方式表达您的情感。从快速检查到深度反思，找到适合您情感叙述的完美格式。</p>
                        </div>
                    </div>

                    <!-- Add a preview of the story mood journal -->
                    <div class="story-preview" style="margin-top: 40px; background: var(--primary); padding: 30px; border-radius: 15px;">
                        <h3 style="color: var(--light); margin-bottom: 20px; text-align: center;">故事情绪日记预览</h3>
                        <div class="journal-entry" style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                            <div class="entry-header" style="display: flex; align-items: center; margin-bottom: 15px;">
                                <div class="weather-icon" style="font-size: 2rem; margin-right: 15px;">🌅</div>
                                <div class="entry-meta">
                                    <h4 style="color: var(--light);">晨间反思</h4>
                                    <span style="color: rgba(255,255,255,0.7);">今天的天气：部分多云，偶尔阳光</span>
                                </div>
                            </div>
                            <p style="color: rgba(255,255,255,0.9); line-height: 1.6;">
                                "就像早上的阳光穿透散落的云朵，今天开始时光明的时刻穿透了萦绕的思绪。每一缕阳光都代表着小小的胜利，提醒着即使是阴云密布的时刻也能蕴藏美好的可能性。"
                            </p>
                            <div class="ai-insight" style="margin-top: 15px; padding: 15px; background: rgba(246,177,122,0.1); border-radius: 8px;">
                                <h5 style="color: var(--light); margin-bottom: 10px;">AI天气洞察</h5>
                                <p style="color: rgba(255,255,255,0.8);">
                                    您的情绪天气显示出改善的迹象。云彩和阳光的混合表明一种平衡的视角，随着不断的变化而带来日益乐观的状态。
                                </p>
                            </div>
                        </div>
                        <div style="text-align: center;">
                            <a href="/journal" class="cta-button" style="display: inline-block; margin-top: 20px;">开始您的天气故事</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper faq-section">
                <div class="section-header">
                    <h2 class="section-title">常见问题</h2>
                </div>
                <div class="section-content">
                    <div class="faq-grid">
                        <div class="faq-item">
                            <div class="faq-question">
                                <span>MoodWeather如何追踪我的情绪？</span>
                                <span class="toggle">+</span>
                            </div>
                            <div class="faq-answer">
                                MoodWeather使用先进的AI分析您的文字记录并将其转化为天气隐喻。您也可以手动选择匹配您心情的天气模式。
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question">
                                <span>我的情感数据是否私密？</span>
                                <span class="toggle">+</span>
                            </div>
                            <div class="faq-answer">
                                是的！您的隐私是我们的首要任务。您所有的情绪条目和个人数据都是加密和安全存储的。您完全可以控制共享内容及其对象。
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question">
                                <span>我可以跟踪时间上的模式吗？</span>
                                <span class="toggle">+</span>
                            </div>
                            <div class="faq-answer">
                                当然可以！我们的情绪日历提供了时间上可视化的情感模式的洞察，帮助您理解内心气候的趋势并做出积极的改变。
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper testimonials-section">
                <div class="section-header">
                    <h2 class="section-title">用户评论</h2>
                </div>
                <div class="section-content">
                    <div class="testimonials-grid">
                        <div class="testimonial-card">
                            <div class="testimonial-text">
                                "MoodWeather改变了我理解情绪的方式。天气隐喻让表达我的感受变得如此直观和自然。"
                            </div>
                            <div class="testimonial-author">
                                <div class="author-avatar">👤</div>
                                <div class="author-info">
                                    <h4>萨拉·K</h4>
                                    <p>使用MoodWeather 6个月</p>
                                </div>
                            </div>
                        </div>
                        <div class="testimonial-card">
                            <div class="testimonial-text">
                                "可视化的情绪追踪帮助我识别到以前从未注意到的模式。就像有一个个人情感气象学家！"
                            </div>
                            <div class="testimonial-author">
                                <div class="author-avatar">👤</div>
                                <div class="author-info">
                                    <h4>马库斯·T</h4>
                                    <p>使用MoodWeather 3个月</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper challenges-section">
                <div class="section-header">
                    <h2 class="section-title">常见挑战与解决方案</h2>
                </div>
                <div class="section-content">
                    <div class="challenges-grid">
                        <div class="challenge-card">
                            <div class="challenge-icon">😔</div>
                            <h3>情感表达困难</h3>
                            <div class="challenge-content">
                                <p class="challenge-desc">许多用户在用词表达自己的感受或识别自己真实情绪时遇到困难。</p>
                                <div class="solution">
                                    <h4>我们的解决方案</h4>
                                    <p>MoodWeather的直观天气隐喻和AI驱动的情绪分析帮助您自然而然地表达情感，无需复杂的情感词汇。</p>
                                </div>
                            </div>
                        </div>

                        <div class="challenge-card">
                            <div class="challenge-icon">📊</div>
                            <h3>不一致的追踪</h3>
                            <div class="challenge-content">
                                <p class="challenge-desc">用户经常忘记记录自己的情绪或失去持续追踪的动力。</p>
                                <div class="solution">
                                    <h4>我们的解决方案</h4>
                                    <p>温和的提醒、连胜系统和快速记录选项让您轻松保持一致的情绪追踪，而不会感到压力。</p>
                                </div>
                            </div>
                        </div>

                        <div class="challenge-card">
                            <div class="challenge-icon">🤔</div>
                            <h3>理解模式</h3>
                            <div class="challenge-content">
                                <p class="challenge-desc">许多人发现很难看清活动、环境与情绪状态之间的联系。</p>
                                <div class="solution">
                                    <h4>我们的解决方案</h4>
                                    <p>先进的分析和AI驱动的洞察帮助识别您情绪天气中的模式和触发因素，使您更容易理解心理气候。</p>
                                </div>
                            </div>
                        </div>

                        <div class="challenge-card">
                            <div class="challenge-icon">🔐</div>
                            <h3>隐私问题</h3>
                            <div class="challenge-content">
                                <p class="challenge-desc">用户担心其情感数据的隐私和安全。</p>
                                <div class="solution">
                                    <h4>我们的解决方案</h4>
                                    <p>端到端加密、匿名追踪选项和严格的数据保护政策确保您的情感旅程保持私密和安全。</p>
                                </div>
                            </div>
                        </div>
                        <div class="challenge-card">
                            <div class="challenge-icon">📱</div>
                            <h3>数字超负荷</h3>
                            <div class="challenge-content">
                                <p class="challenge-desc">许多用户报告感到被复杂的心理健康应用和追踪系统所压倒。</p>
                                <div class="solution">
                                    <h4>我们的创新解决方案</h4>
                                    <p>MoodWeather的直观天气基础界面简化了情绪追踪，使其变得像查看天气一样自然。我们的AI驱动系统根据您的模式提供个性化洞察，而不会让您感到复杂。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper comparison-section">
                <div class="section-header">
                    <h2 class="section-title">子弹日记与MoodWeather</h2>
                </div>
                <div class="section-content">
                    <div class="comparison-grid">
                        <div class="comparison-card bullet-journal">
                            <h3>传统子弹日记</h3>
                            <div class="comparison-content">
                                <div class="comparison-item">
                                    <h4>时间投入</h4>
                                    <p>需要大量设置时间和每日手动条目</p>
                                </div>
                                <div class="comparison-item">
                                    <h4>分析</h4>
                                    <p>手动模式识别，限制洞察</p>
                                </div>
                                <div class="comparison-item">
                                    <h4>灵活性</h4>
                                    <p>高度可定制，但需要艺术技能</p>
                                </div>
                                <div class="comparison-item">
                                    <h4>可及性</h4>
                                    <p>需要携带的纸质日记</p>
                                </div>
                                <div class="comparison-item">
                                    <h4>数据安全</h4>
                                    <p>物理安全风险，可能丢失或损坏</p>
                                </div>
                            </div>
                        </div>
                        <div class="comparison-card moodweather">
                            <h3>MoodWeather应用</h3>
                            <div class="comparison-content">
                                <div class="comparison-item">
                                    <h4>时间投入</h4>
                                    <p>通过AI辅助和天气隐喻快速录入</p>
                                </div>
                                <div class="comparison-item">
                                    <h4>分析</h4>
                                    <p>先进的AI驱动分析和模式识别</p>
                                </div>
                                <div class="comparison-item">
                                    <h4>灵活性</h4>
                                    <p>直观界面与可定制的追踪选项</p>
                                </div>
                                <div class="comparison-item">
                                    <h4>可及性</h4>
                                    <p>通过移动和Web应用程序随时随地可用</p>
                                </div>
                                <div class="comparison-item">
                                    <h4>数据安全</h4>
                                    <p>端到端加密和安全的云存储</p>
                                </div>
                                <div class="comparison-item">
                                    <h4>与心理健康专业人士的集成</h4>
                                    <p>与传统子弹日记不同，MoodWeather提供与心理健康专业人士的安全数据共享选项，从而实现更有根据的治疗和计划。</p>
                                </div>
                                <div class="comparison-item">
                                    <h4>科学验证</h4>
                                    <p>MoodWeather的方法得到了情感智能和心理健康追踪领域的同行评审研究的支持，而传统方法缺乏实证验证。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper research-section">
                <div class="section-header">
                    <h2 class="section-title">研究与洞察</h2>
                </div>
                <div class="section-content">
                    <div class="research-grid">
                        <div class="research-card">
                            <div class="stat-circle">
                                <span class="stat-number">78%</span>
                            </div>
                            <h3>自我意识提高</h3>
                            <p>用户报告在持续追踪3个月后对其情感模式有显著更好的理解</p>
                            <div class="source">来源：内部用户研究2023</div>
                        </div>

                        <div class="research-card">
                            <div class="stat-circle">
                                <span class="stat-number">3倍</span>
                            </div>
                            <h3>更好的压力管理</h3>
                            <p>使用天气隐喻的用户三倍更有可能实施有效的应对策略</p>
                            <div class="source">来源：心理学今日，2023</div>
                        </div>

                        <div class="research-card">
                            <div class="stat-circle">
                                <span class="stat-number">92%</span>
                            </div>
                            <h3>用户满意度</h3>
                            <p>活跃用户推荐MoodWeather给朋友和家人进行情感追踪</p>
                            <div class="source">来源：用户反馈分析</div>
                        </div>
                    </div>

                    <div class="research-highlights">
                        <div class="highlight-card">
                            <h3>关键研究发现</h3>
                            <ul class="findings-list">
                                <li>天气隐喻增加情感词汇量45%</li>
                                <li>每日情绪追踪将压力水平降低32%</li>
                                <li>可视化表示提高模式识别67%</li>
                                <li>89%的用户报告情绪调节更好</li>
                            </ul>
                        </div>
                        <div class="highlight-card">
                            <h3>情商研究</h3>
                            <p class="research-intro">最近关于情商和心理健康追踪的研究表明，定期的情绪监测与情感健康的改善之间存在显著的相关性。</p>
                            <ul class="findings-list">
                                <li>根据《心理健康杂志》（2023）的研究，通过基于隐喻的追踪情感意识提高72%</li>
                                <li>临床研究表明，使用数字情绪追踪工具的治疗效果提高45%</li>
                                <li>哈佛心理健康信件报告称，通过持续情绪监测，自我调节能力提高63%</li>
                                <li>心理学今日的研究表明，天气隐喻增加情感词汇量85%</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper future-development-section">
                <div class="section-header">
                    <h2 class="section-title">未来发展路线图</h2>
                </div>
                <div class="section-content">
                    <div class="timeline-grid">
                        <div class="timeline-item">
                            <div class="timeline-date">2025年第一季度</div>
                            <div class="timeline-content">
                                <h3>先进的AI集成</h3>
                                <p>使用机器学习增强情绪预测和个性化推荐</p>
                                <ul class="feature-list">
                                    <li>预测性情绪分析</li>
                                    <li>自定义干预策略</li>
                                    <li>实时情绪调整建议</li>
                                </ul>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-date">2025年第二季度</div>
                            <div class="timeline-content">
                                <h3>社交功能</h3>
                                <p>安全和私密的社区功能以促进共同成长</p>
                                <ul class="feature-list">
                                    <li>匿名支持小组</li>
                                    <li>认证治疗师连接</li>
                                    <li>小组挑战和活动</li>
                                </ul>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-date">2025年第三季度</div>
                            <div class="timeline-content">
                                <h3>扩展平台支持</h3>
                                <p>将MoodWeather带到更多平台和设备上</p>
                                <ul class="feature-list">
                                    <li>智能手表集成</li>
                                    <li>语音助手支持</li>
                                    <li>桌面应用程序</li>
                                </ul>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-date">2025年第四季度</div>
                            <div class="timeline-content">
                                <h3>研究集成</h3>
                                <p>通过与领先的心理健康研究机构的合作扩大我们的循证方法</p>
                                <ul class="feature-list">
                                    <li>与临床研究的集成</li>
                                    <li>扩大研究验证</li>
                                    <li>学术合作伙伴计划</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper case-studies-section">
                <div class="section-header">
                    <h2 class="section-title">成功案例</h2>
                </div>
                <div class="section-content">
                    <div class="case-studies-grid">
                        <div class="case-study-card">
                            <h3>心理健康诊所</h3>
                            <div class="stats-container">
                                <div class="stat-item">
                                    <div class="stat-value">156%</div>
                                    <div class="stat-label">患者参与度提高</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value">45%</div>
                                    <div class="stat-label">治疗效果改善</div>
                                </div>
                            </div>
                            <p class="case-study-text">
                                在12家心理健康诊所实施MoodWeather后，患者参与度和治疗效果显著改善。
                            </p>
                            <div class="key-findings">
                                <h4>关键发现</h4>
                                <ul>
                                    <li>提高治疗会议的生产力</li>
                                    <li>改善会议间的监测</li>
                                    <li>增强患者与治疗师的沟通</li>
                                </ul>
                            </div>
                        </div>
                        <div class="case-study-card">
                            <h3>企业健康计划</h3>
                            <div class="stats-container">
                                <div class="stat-item">
                                    <div class="stat-value">32%</div>
                                    <div class="stat-label">压力水平降低</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value">28%</div>
                                    <div class="stat-label">团队沟通改善</div>
                                </div>
                            </div>
                            <p class="case-study-text">
                                在5家《财富》500强公司实施后，员工的幸福感和团队动态显著改善。
                            </p>
                            <div class="key-findings">
                                <h4>关键发现</h4>
                                <ul>
                                    <li>更好地意识到工作与生活的平衡</li>
                                    <li>提高情商</li>
                                    <li>改善团队合作</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper pricing-section">
                <div class="section-header">
                    <h2 class="section-title">选择您的计划</h2>
                </div>
                <div class="section-content">
                    <div class="pricing-grid">
                        <div class="pricing-card">
                            <h3>免费</h3>
                            <div class="price">$0</div>
                            <div class="period">永久</div>
                            <ul class="features">
                                <li>基本情绪追踪</li>
                                <li>天气隐喻系统</li>
<li>基本分析</li>
                                <li>社区访问</li>
                            </ul>
                            <a href="https://moodweather.heytcm.com/signup" class="cta-button">开始使用</a>
                        </div>
                        <div class="pricing-card popular">
                            <div class="popular-badge">最受欢迎</div>
                            <h3>高级</h3>
                            <div class="price">$9.99</div>
                            <div class="period">每月</div>
                            <ul class="features">
                                <li>高级情绪分析</li>
                                <li>AI驱动的洞察</li>
                                <li>优先支持</li>
                                <li>专家资源</li>
                                <li>集成功能</li>
                            </ul>
                            <a href="https://moodweather.heytcm.com/premium" class="cta-button">尝试高级版</a>
                        </div>
                        <div class="pricing-card">
                            <h3>企业版</h3>
                            <div class="price">定制</div>
                            <div class="period">联系我们</div>
                            <ul class="features">
                                <li>定制实施</li>
                                <li>API访问</li>
                                <li>专用支持</li>
                                <li>团队管理</li>
                                <li>高级安全</li>
                            </ul>
                            <a href="https://moodweather.heytcm.com/enterprise" class="cta-button">联系销售</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper integration-section">
                <div class="section-header">
                    <h2 class="section-title">无缝集成</h2>
                </div>
                <div class="section-content">
                    <div class="integration-grid features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">🏥</div>
                            <h3>医疗提供者</h3>
                            <p>与您的医疗团队安全数据共享，以实现更好的治疗效果</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">⌚</div>
                            <h3>可穿戴设备</h3>
                            <p>与流行的健身追踪器和智能手表同步，全面追踪健康</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">📱</div>
                            <h3>移动健康应用</h3>
                            <p>与其他健康和健身应用连接，实现统一的健康仪表板</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">📊</div>
                            <h3>分析平台</h3>
                            <p>将您的数据导出到流行的分析工具，以深入分析</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper impact-section">
                <div class="section-header">
                    <h2 class="section-title">实际影响</h2>
                </div>
                <div class="section-content">
                    <div class="research-grid">
                        <div class="research-card">
                            <div class="stat-circle">
                                <span class="stat-number">2M+</span>
                            </div>
                            <h3>活跃用户</h3>
                            <p>在全球范围内不断增长的情感健康从业者社区</p>
                        </div>
                        <div class="research-card">
                            <div class="stat-circle">
                                <span class="stat-number">150+</span>
                            </div>
                            <h3>临床合作伙伴</h3>
                            <p>使用MoodWeather进行患者护理的医疗提供者</p>
                        </div>
                        <div class="research-card">
                            <div class="stat-circle">
                                <span class="stat-number">89%</span>
                            </div>
                            <h3>用户满意度</h3>
                            <p>用户报告情感意识提高</p>
                        </div>
                    </div>
                    <div class="research-highlights">
                        <div class="highlight-card">
                            <h3>全球影响</h3>
                            <ul class="findings-list">
                                <li>在45个国家支持心理健康倡议</li>
                                <li>与世界卫生组织合作进行全球心理健康宣传</li>
                                <li>为情感智能的学术研究作贡献</li>
                                <li>向服务不足的社区提供免费访问</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="newsletter-section">
            <h2>保持更新</h2>
            <p>获取关于MoodWeather的最新更新和情感健康提示。</p>
            <form id="newsletter-form" class="newsletter-form">
                <input type="email" placeholder="输入您的邮箱" required>
                <button type="submit" class="cta-button">订阅</button>
            </form>
        </div>

        <div class="section-container">
            <div class="section-wrapper metaphor-poll-section">
                <div class="section-header">
                    <h2 class="section-title">投票您最喜欢的天气隐喻</h2>
                </div>
                <div class="section-content">
                    <div id="metaphor-examples" class="metaphor-grid">
                    </div>
                    <div class="poll-results">
                        <h3>最受欢迎的隐喻</h3>
                        <div id="poll-chart" class="poll-chart">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-container">
            <div class="section-wrapper mood-story-section">
                <div class="section-header">
                    <h2 class="section-title">您的30天情绪天气故事</h2>
                    <p class="section-subtitle">通过天气隐喻体验您的情感旅程</p>
                </div>
                <div class="section-content">
                    <div class="story-preview">
                        <div class="story-cover">
                            <h3>内心气候：30天的旅程</h3>
                            <div class="weather-timeline">
                            </div>
                        </div>
                        
                        <div class="story-chapters">
                            <div class="chapter">
                                <h4>第一周：寻觅晴空</h4>
                                <div class="day-entry">
                                    <div class="weather-icon">🌞</div>
                                    <div class="entry-content">
                                        <h5>第1天：光明的开始</h5>
                                        <p>"新的一周，新希望。今天的感觉像晨光般明亮。"</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="chapter">
                                <h4>第二周：风暴中的考验</h4>
                                <div class="day-entry">
                                    <div class="weather-icon">⛈️</div>
                                    <div class="entry-content">
                                        <h5>第8天：雷阵雨</h5>
                                        <p>"压力如风暴云般积聚，但我知道雨后的彩虹将会降临。"</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="chapter">
                                <h4>第三周：找到宁静</h4>
                                <div class="day-entry">
                                    <div class="weather-icon">✨</div>
                                    <div class="entry-content">
                                        <h5>第15天：繁星点点</h5>
                                        <p>"繁忙的一天过后，观星让一切都有了意义。"</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="chapter">
                                <h4>第四周：突破自我</h4>
                                <div class="day-entry">
                                    <div class="weather-icon">🌈</div>
                                    <div class="entry-content">
                                        <h5>第25天：极光梦想</h5>
                                        <p>"今天实现了一个重大目标，感觉如同极光般灿烂。"</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="story-features">
                            <div class="feature">
                                <i class="feature-icon">🎥</i>
                                <h4>动态回顾</h4>
                                <p>观看您的情感旅程如何在美丽的视频蒙太奇中生动呈现</p>
                            </div>
                            <div class="feature">
                                <i class="feature-icon">🎨</i>
                                <h4>自定义封面</h4>
                                <p>选择您最喜欢的情绪天气时刻作为您的故事封面</p>
                            </div>
                            <div class="feature">
                                <i class="feature-icon">🏆</i>
                                <h4>成就徽章</h4>
                                <p>为持续的日记记录解锁特别的情感徽章</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>MoodWeather</h3>
                    <p>自然表达您的情绪</p>
                    <div class="social-links">
                        <a href="https://twitter.com/moodweather">Twitter</a>
                        <a href="https://facebook.com/moodweather">Facebook</a>
                        <a href="https://instagram.com/moodweather">Instagram</a>
                    </div>
                </div>
                <div class="footer-col">
                    <h4>产品</h4>
                    <ul>
                        <li><a href="https://moodweather.heytcm.com/features">功能</a></li>
                        <li><a href="https://moodweather.heytcm.com/pricing">定价</a></li>
                        <li><a href="https://moodweather.heytcm.com/enterprise">企业版</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>资源</h4>
                    <ul>
                        <li><a href="https://moodweather.heytcm.com/blog">博客</a></li>
                        <li><a href="https://moodweather.heytcm.com/help">帮助中心</a></li>
                        <li><a href="https://moodweather.heytcm.com/api">API文档</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>研究</h4>
                    <ul>
                        <li><a href="https://moodweather.heytcm.com/research">研究论文</a></li>
                        <li><a href="https://moodweather.heytcm.com/studies">案例研究</a></li>
                        <li><a href="https://moodweather.heytcm.com/partners">研究伙伴</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h4>公司</h4>
                    <ul>
                        <li><a href="https://moodweather.heytcm.com/about">关于我们</a></li>
                        <li><a href="https://moodweather.heytcm.com/careers">职业机会</a></li>
                        <li><a href="https://moodweather.heytcm.com/contact">联系我们</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 MoodWeather. 保留所有权利。</p>
                <div class="legal-links">
                    <a href="https://moodweather.heytcm.com/privacy">隐私政策</a>
                    <a href="https://moodweather.heytcm.com/terms">服务条款</a>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Initialize metaphor poll functionality
        function initMetaphorPoll() {
            const metaphorExamples = [
                { id: 1, text: "Sunny days represent moments of joy and achievement", votes: 245 },
                { id: 2, text: "Stormy weather captures intense emotional turbulence", votes: 189 },
                { id: 3, text: "Gentle rain reflects periods of quiet reflection", votes: 167 },
                { id: 4, text: "Rainbow moments symbolize hope after difficulties", votes: 203 },
                { id: 5, text: "Misty mornings represent uncertainty and transition", votes: 156 },
                { id: 6, text: "Clear starry nights show peace and clarity", votes: 198 }
            ];

            // Populate metaphor examples
            const metaphorGrid = document.getElementById('metaphor-examples');
            metaphorExamples.forEach(metaphor => {
                const card = document.createElement('div');
                card.className = 'metaphor-card';
                card.setAttribute('data-id', metaphor.id);
                
                card.innerHTML = `
                    <p class="metaphor-text">${metaphor.text}</p>
                    <div class="vote-count">
                        <span>${metaphor.votes} votes</span>
                        <button class="vote-btn">Vote</button>
                    </div>
                `;
                
                metaphorGrid.appendChild(card);
            });

            // Update poll chart
            function updatePollChart() {
                const pollChart = document.getElementById('poll-chart');
                pollChart.innerHTML = '';
                
                const totalVotes = metaphorExamples.reduce((sum, item) => sum + item.votes, 0);
                
                metaphorExamples.forEach(metaphor => {
                    const percentage = ((metaphor.votes / totalVotes) * 100).toFixed(1);
                    
                    const pollBar = document.createElement('div');
                    pollBar.className = 'poll-bar';
                    pollBar.innerHTML = `
                        <div class="poll-bar-fill" style="width: ${percentage}%"></div>
                        <div class="poll-bar-text">
                            <span>${metaphor.text}</span>
                            <span>${percentage}%</span>
                        </div>
                    `;
                    
                    pollChart.appendChild(pollBar);
                });
            }

            // Handle voting
            metaphorGrid.addEventListener('click', (e) => {
                const voteBtn = e.target.closest('.vote-btn');
                if (!voteBtn) return;

                const card = voteBtn.closest('.metaphor-card');
                const metaphorId = parseInt(card.dataset.id);
                
                // Find and update the metaphor votes
                const metaphor = metaphorExamples.find(m => m.id === metaphorId);
                if (metaphor) {
                    metaphor.votes++;
                    
                    // Update vote count display
                    const voteCount = card.querySelector('.vote-count span');
                    voteCount.textContent = `${metaphor.votes} votes`;
                    
                    // Add voted class
                    card.classList.add('voted');
                    
                    // Disable vote button
                    voteBtn.disabled = true;
                    voteBtn.textContent = 'Voted';
                    
                    // Update chart
                    updatePollChart();

                    // Optional: Send vote to server
                    try {
                        fetch('/api/metaphor/vote', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({ metaphorId })
                        });
                    } catch (error) {
                        console.error('Error recording vote:', error);
                    }
                }
            });

            // Initial chart update
            updatePollChart();
        }

        document.documentElement.style.scrollBehavior = 'smooth';
        
        let currentMood = '';
        const moodScores = {
            sunny: 1,
            cloudy: 0.5,
            rainy: 0,
            stormy: -0.5
        };

        // Initialize mood analysis API
        async function analyzeMood(text) {
            try {
                const response = await fetch('/api/ai_completion', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        prompt: `Analyze the following text and determine:
                        1. The primary weather mood (sunny, cloudy, rainy, or stormy)
                        2. A mood score between -1 and 1
                        3. Key emotional patterns or triggers
                        4. Suggested wallpaper theme
                        
                        <typescript-interface>
                        interface Response {
                            weather: string;
                            score: number;
                            analysis: string;
                            patterns: string[];
                            wallpaper: string;
                        }
                        </typescript-interface>
                        
                        <example>
                        {
                            "weather": "sunny",
                            "score": 0.8,
                            "analysis": "The text indicates a positive and optimistic mood",
                            "patterns": ["social interaction", "achievement", "outdoor activity"],
                            "wallpaper": "sunny_meadow"
                        }
                        </example>`,
                        data: text
                    })
                });
                return await response.json();
            } catch (error) {
                console.error('Error analyzing mood:', error);
                return {
                    weather: 'cloudy',
                    score: 0,
                    analysis: 'Unable to analyze mood',
                    patterns: [],
                    wallpaper: 'default'
                };
            }
        }

        // Add wallpaper updating function
        function updateWallpaper(theme) {
            document.body.style.backgroundImage = `url(/wallpapers/${theme}.jpg)`;
        }

        // Setup weather icons interaction
        document.querySelectorAll('.weather-icon').forEach(icon => {
            icon.addEventListener('click', () => {
                currentMood = icon.dataset.mood;
                updateMoodDisplay(currentMood);
            });
        });

        // Setup mood text analysis
        const moodText = document.getElementById('mood-text');
        let typingTimer;
        
        moodText.addEventListener('keyup', () => {
            clearTimeout(typingTimer);
            typingTimer = setTimeout(async () => {
                const analysis = await analyzeMood(moodText.value);
                currentMood = analysis.weather;
                updateMoodScore(analysis.score);
                updateMoodDisplay(currentMood);
                updateWallpaper(analysis.wallpaper);
                
                // Update pattern recognition display
                if (analysis.patterns.length > 0) {
                    document.getElementById('mood-patterns').innerHTML = analysis.patterns
                        .map(pattern => `<li>${pattern}</li>`)
                        .join('');
                }
            }, 1000);
        });

        function updateMoodScore(score) {
            document.getElementById('user-score').textContent = `Mood Score: ${Math.round(score * 100)}`;
        }

        function updateMoodDisplay(mood) {
            const particles = document.getElementById('mood-particles');
            particles.innerHTML = ''; // Clear existing particles

            switch(mood) {
                case 'sunny':
                    createSunnyEffect();
                    break;
                case 'cloudy':
                    createCloudyEffect();
                    break;
                case 'rainy':
                    createRainyEffect();
                    break;
                case 'stormy':
                    createStormyEffect();
                    break;
            }
        }

        // Particle effects
        function createSunnyEffect() {
            const svg = document.getElementById('mood-particles');
            for(let i = 0; i < 20; i++) {
                const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                circle.setAttribute("cx", Math.random() * 100 + "%");
                circle.setAttribute("cy", Math.random() * 100 + "%");
                circle.setAttribute("r", Math.random() * 3);
                circle.setAttribute("fill", "#FFD700");
                svg.appendChild(circle);

                gsap.to(circle, {
                    duration: 2 + Math.random() * 2,
                    y: -100,
                    opacity: 0,
                    repeat: -1,
                    ease: "none"
                });
            }
        }

        function createCloudyEffect() {
            const svg = document.getElementById('mood-particles');
            for(let i = 0; i < 5; i++) {
                const cloud = document.createElementNS("http://www.w3.org/2000/svg", "path");
                cloud.setAttribute("d", "M30,50 Q40,40 50,45 Q60,35 70,45 Q80,40 85,50 Q90,60 80,65 Q75,70 65,68 Q60,75 50,70 Q40,75 35,68 Q25,70 20,65 Q15,60 20,55 Q25,50 30,50");
                cloud.setAttribute("fill", "rgba(255,255,255,0.3)");
                cloud.setAttribute("transform", `translate(${Math.random() * 100},${Math.random() * 100}) scale(0.5)`);
                cloud.classList.add("floating-cloud");
                svg.appendChild(cloud);
            }
        }

        function createRainyEffect() {
            const svg = document.getElementById('mood-particles');
            for(let i = 0; i < 50; i++) {
                const drop = document.createElementNS("http://www.w3.org/2000/svg", "line");
                drop.setAttribute("x1", Math.random() * 100 + "%");
                drop.setAttribute("y1", -10);
                drop.setAttribute("x2", Math.random() * 100 + "%");
                drop.setAttribute("y2", 0);
                drop.setAttribute("stroke", "#4682B4");
                drop.setAttribute("stroke-width", "2");
                svg.appendChild(drop);

                gsap.to(drop, {
                    duration: 1 + Math.random(),
                    y: 500,
                    repeat: -1,
                    ease: "none"
                });
            }
        }

        function createStormyEffect() {
            const svg = document.getElementById('mood-particles');
            for(let i = 0; i < 3; i++) {
                const lightning = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
                lightning.setAttribute("points", "45,60 55,60 40,75 50,75 35,90");
                lightning.setAttribute("fill", "#FFD700");
                lightning.setAttribute("transform", `translate(${Math.random() * 100},${Math.random() * 100})`);
                svg.appendChild(lightning);

                gsap.to(lightning, {
                    duration: 0.1,
                    opacity: 0,
                    repeat: -1,
                    repeatDelay: Math.random() * 2,
                    ease: "none"
                });
            }
        }

        function initFAQ() {
            document.querySelectorAll('.faq-item').forEach(item => {
                item.addEventListener('click', () => {
                    const wasActive = item.classList.contains('active');
                    
                    // Close all FAQs
                    document.querySelectorAll('.faq-item').forEach(faq => {
                        faq.classList.remove('active');
                        faq.querySelector('.toggle').textContent = '+';
                    });
                    
                    // Toggle clicked FAQ
                    if (!wasActive) {
                        item.classList.add('active');
                        item.querySelector('.toggle').textContent = '-';
                    }
                });
            });
        }

        function initAchievements() {
            document.querySelectorAll('.achievement-card').forEach(card => {
                card.addEventListener('mouseenter', () => {
                    const progress = card.querySelector('.progress');
                    progress.style.transition = 'width 1s ease';
                    progress.style.width = progress.style.width;
                });
            });
        }

        // Newsletter form handling
        document.getElementById('newsletter-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = e.target.querySelector('input[type="email"]').value;
            
            try {
                const response = await fetch('/api/newsletter/subscribe', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email })
                });
                
                if (response.ok) {
                    alert('谢谢您的订阅！');
                    e.target.reset();
                } else {
                    throw new Error('订阅失败');
                }
            } catch (error) {
                alert('抱歉，发生了错误。请稍后再试。');
            }
        });

        const sections = document.querySelectorAll('.section-wrapper');

        const sectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, {
            threshold: 0.1
        });

        sections.forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(20px)';
            section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            sectionObserver.observe(section);
        });

        // Initialize the weather timeline
        function initWeatherTimeline() {
            const timeline = document.querySelector('.weather-timeline');
            if (!timeline) return;

            // Generate 30 days of sample weather data
            const weatherTypes = ['sunny', 'cloudy', 'rainy', 'stormy', 'starry', 'aurora'];
            const weatherColors = {
                sunny: '#FFD700',
                cloudy: '#E0E0E0',
                rainy: '#4682B4',
                stormy: '#4A4A4A',
                starry: '#191970',
                aurora: '#98FB98'
            };

            // Create timeline markers
            for (let i = 0; i < 30; i++) {
                const marker = document.createElement('div');
                marker.classList.add('timeline-marker');
                
                // Randomly select weather type for demo
                const weatherType = weatherTypes[Math.floor(Math.random() * weatherTypes.length)];
                
                marker.style.cssText = `
                    position: absolute;
                    left: ${(i / 29) * 100}%;
                    top: 50%;
                    transform: translateY(-50%);
                    width: 8px;
                    height: 8px;
                    border-radius: 50%;
                    background-color: ${weatherColors[weatherType]};
                    transition: transform 0.3s ease;
                `;

                // Add hover effect
                marker.addEventListener('mouseenter', () => {
                    marker.style.transform = 'translateY(-50%) scale(1.5)';
                    marker.style.zIndex = '2';
                });

                marker.addEventListener('mouseleave', () => {
                    marker.style.transform = 'translateY(-50%) scale(1)';
                    marker.style.zIndex = '1';
                });

                timeline.appendChild(marker);
            }

            // Add connecting line
            const connectionLine = document.createElement('div');
            connectionLine.style.cssText = `
                position: absolute;
                top: 50%;
                left: 0;
                right: 0;
                height: 2px;
                background: rgba(255,255,255,0.2);
                transform: translateY(-50%);
            `;
            timeline.insertBefore(connectionLine, timeline.firstChild);

            // Add timeline labels
            const startLabel = document.createElement('div');
            startLabel.textContent = '第1天';
            startLabel.style.cssText = `
                position: absolute;
                left: 0;
                bottom: -25px;
                font-size: 12px;
                color: rgba(255,255,255,0.7);
            `;

            const endLabel = document.createElement('div');
            endLabel.textContent = '第30天';
            endLabel.style.cssText = `
                position: absolute;
                right: 0;
                bottom: -25px;
                font-size: 12px;
                color: rgba(255,255,255,0.7);
            `;

            timeline.appendChild(startLabel);
            timeline.appendChild(endLabel);
        }

        // Call the initWeatherTimeline function
        initWeatherTimeline();
        
        // Locale Picker Initialization
        function initLocalePicker() {
            const localePicker = document.getElementById('locale-picker');
            
            // Get current locale from URL
            const getCurrentLocale = () => {
                const path = window.location.pathname;
                const matches = path.match(/\/([a-z]{2})\//);
                return matches ? matches[1] : 'en';
            };

            // Set initial value based on URL
            const currentLocale = getCurrentLocale();
            localePicker.value = currentLocale;

            // Handle locale change
            localePicker.addEventListener('change', (e) => {
                const newLocale = e.target.value;
                const currentPath = window.location.pathname;
                
                // If current path already has locale
                if (currentPath.match(/\/[a-z]{2}\//)) {
                    window.location.pathname = currentPath.replace(/\/[a-z]{2}\//, `/${newLocale}/`);
                } else {
                    // If no locale in path, add it
                    window.location.pathname = `/${newLocale}${currentPath}`;
                }
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            initMetaphorPoll();
            initFAQ();
            initAchievements();
            updateMoodDisplay('cloudy'); // Default mood
            initLocalePicker(); // Add this line
            
            // Video Demo Initialization
            const video = document.getElementById('demo-video');
            // Add lazy loading
            video.setAttribute('loading', 'lazy');
            // Add poster if video fails to load
            video.addEventListener('error', () => {
                video.poster = '/images/video-fallback.jpg';
            });
            // Pause video when out of view
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (!entry.isIntersecting && !video.paused) {
                        video.pause();
                    }
                });
            }, { threshold: 0.5 });
            observer.observe(video);
            // Track video engagement
            video.addEventListener('play', () => {
                try {
                    fetch('/api/analytics/video-play', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            videoId: 'demo',
                            timestamp: new Date().toISOString()
                        })
                    });
                } catch (error) {
                    console.error('Error tracking video play:', error);
                }
            });
        });
    </script>
</body></html>
